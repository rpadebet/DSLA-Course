aws emr create-cluster\
 --applications Name=Hadoop Name=Hive Name=Pig Name=Hue Name=Spark Name=Zeppelin Name=Tez\
 --ec2-attributes '{"KeyName":"FirstAWSInstance","AdditionalSlaveSecurityGroups":["sg-6fed0711"],"InstanceProfile":"EMR_EC2_DefaultRole","SubnetId":"subnet-caed4f82","EmrManagedSlaveSecurityGroup":"sg-caa93ebb","EmrManagedMasterSecurityGroup":"sg-4657c037","AdditionalMasterSecurityGroups":["sg-6fed0711"]}'\
 --release-label emr-5.6.0\
 --log-uri 's3n://aws-logs-857272315274-us-east-1/elasticmapreduce/' \
--steps '[{"Args":["s3://rohit-folder/flights_download.sh"],"Type":"CUSTOM_JAR","ActionOnFailure":"TERMINATE_CLUSTER","Jar":"s3://us-east-1.elasticmapreduce/libs/script-runner/script-runner.jar","Properties":"","Name":"Flights Download"},{"Args":["s3://rohit-folder/hadoop_script.sh"],"Type":"CUSTOM_JAR","ActionOnFailure":"CONTINUE","Jar":"s3://us-east-1.elasticmapreduce/libs/script-runner/script-runner.jar","Properties":"","Name":"Hadoop Setup"}]' \
--instance-groups '[{"InstanceCount":1,"BidPrice":"0.27","EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":50,"VolumeType":"gp2"},"VolumesPerInstance":1}],"EbsOptimized":true},"InstanceGroupType":"MASTER","InstanceType":"m4.4xlarge","Name":"Master Node"},{"InstanceCount":3,"BidPrice":"0.27","EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":32,"VolumeType":"gp2"},"VolumesPerInstance":1}]},"InstanceGroupType":"CORE","InstanceType":"m4.4xlarge","Name":"Data Nodes"}]'\
 --auto-scaling-role EMR_AutoScaling_DefaultRole\
 --bootstrap-actions '[{"Path":"s3://rohit-folder/emr_rohit_script_quick.sh","Name":"Custom action"}]'\
 --ebs-root-volume-size 25\
 --service-role EMR_DefaultRole\
 --enable-debugging\
 --name 'Spark RStudio Cluster flights CLI'\
 --scale-down-behavior TERMINATE_AT_INSTANCE_HOUR\
 --region us-east-1
